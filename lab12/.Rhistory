ggplot(aes(x=continent, y=ave_lifex))+
geom_bar()
gapminder %>%
group_by(continent) %>%
summarize(ave_lifex=mean(lifeExp)) %>%
ggplot(aes(x=continent, y=ave_lifex))+
geom_col()
gapminder %>%
group_by(continent) %>%
summarize(ave_lifex=mean(lifeExp)) %>%
ggplot(aes(x=year, y=ave_lifex))+
geom_col()
gapminder %>%
group_by(continent) %>%
summarize(ave_lifex=mean(lifeExp))
gapminder %>%
group_by(continent) %>%
select(year, continent) %>%
summarize(ave_lifex=mean(lifeExp)) %>%
ggplot(aes(x=year, y=ave_lifex))+
geom_col()
gapminder %>%
group_by(continent) %>%
select(year, continent, lifeExp) %>%
summarize(ave_lifex=mean(lifeExp)) %>%
ggplot(aes(x=year, y=ave_lifex))+
geom_col()
gapminder %>%
group_by(continent) %>%
select(year, continent, lifeExp) %>%
summarize(ave_lifex=mean(lifeExp))
gapminder %>%
group_by(continent) %>%
select(year, continent, lifeExp)
gapminder %>%
group_by(continent, year) %>%
select(year, continent, lifeExp) %>%
summarize(ave_lifex=mean(lifeExp)) %>%
ggplot(aes(x=year, y=ave_lifex))+
geom_col()
gapminder %>%
group_by(continent, year) %>%
select(year, continent, lifeExp) %>%
summarize(ave_lifex=mean(lifeExp))
gapminder %>%
group_by(continent, year) %>%
select(year, continent, lifeExp)
gapminder %>%
group_by(continent, year) %>%
select(year, continent, lifeExp) %>%
summarize(ave_lifex=mean(lifeExp)) %>%
ggplot(aes(x=year, y=ave_lifex))+
geom_col()
gapminder %>%
group_by(continent, year) %>%
select(year, continent, lifeExp) %>%
summarize(ave_lifex=mean(lifeExp))
deserts <- read_csv("data/surveys_complete.csv")
deserts %>%
filter(species_id=="DM"| species_id=="DS") %>%
mutate(year=as.factor(year)) %>%
group_by(year, species_id) %>%
summarize(n=n(), .groups = "keep") %>%
pivot_wider(names_from = species_id,
values_from = n)
deserts %>%
filter(species_id=="DM"| species_id=="DS") %>%
mutate(year=as.factor(year)) %>%
group_by(year, species_id) %>%
summarize(n=n(), .groups = "keep") %>%
ggplot(aes(x=year, y=n, group = species_id, color=species_id))+ # if no group=species_id, no line!
geom_line()+
geom_point(shape=5)+ # without geom_points, remove the dots, only line is left
# shape 5 = diamond; shape 6= triangle
theme(axis.text.x = element_text(angle = 60, hjust = 1))
gapminder %>%
group_by(continent, year) %>%
select(year, continent, lifeExp) %>%
summarize(ave_lifex=mean(lifeExp)) %>%
ggplot(aes(x=year, y=ave_lifex, group = continent, color= continent))+
geom_line()
gapminder %>%
group_by(continent, year) %>%
summarize(ave_lifex=mean(lifeExp)) %>%
ggplot(aes(x=year, y=ave_lifex, group = continent, color= continent))+
geom_line()
gapminder %>%
group_by(continent, year) %>%
summarize(ave_lifex=mean(lifeExp))
gapminder %>%
group_by(continent, year) %>%
summarize(ave_lifex=mean(lifeExp)) %>%
ggplot(aes(x=year, y=ave_lifex, group = continent, color= continent))+
geom_line()+
geom_point(shape=4)
gapminder %>%
group_by(continent, year) %>%
summarize(ave_lifex=mean(lifeExp), .groups = "keep") %>%
ggplot(aes(x=year, y=ave_lifex, group = continent, color= continent))+
geom_line()+
geom_point(shape=4)
gapminder %>%
group_by(continent, year) %>%
summarize(ave_lifex=mean(lifeExp), .groups = "keep") %>%
ggplot(aes(x=year, y=ave_lifex, group = continent, color= continent))+
geom_line()+
geom_point(shape=4)+
theme(axis.text.x = element_text(angle = 60, hjust = 1))
gapminder %>%
group_by(continent, year) %>%
summarize(ave_lifex=mean(lifeExp), .groups = "keep") %>%
ggplot(aes(x=year, y=ave_lifex, group = continent, color= continent))+
geom_line()+
geom_point(shape=4)+
labs(title = "Life Expectancy Over Time in Each Continent",
x="Year",
y="Mean Life Expectancy")+
theme(axis.text.x = element_text(angle = 60, hjust = 1))
gapminder %>%
filter(continent=="Africa" & year<=1987 & year >= 2002)
gapminder %>%
filter(continent=="Africa" & year>=1987 & year <= 2002)
gapminder %>%
filter(continent=="Africa" & year>=1987 & year <= 2002) %>%
group_by(year)
gapminder %>%
filter(continent=="Africa" & year>=1987 & year <= 2002) %>%
group_by(year) %>%
summarize(ave_life=mean(lifeExp))
gapminder %>%
ggplot(aes(x=gdpPercap, y=lifeExp))+
geom_col()
gapminder %>%
group_by(country) %>%
ggplot(aes(x=gdpPercap, y=lifeExp))+
geom_col()
gapminder %>%
group_by(country) %>%
mutate(gdp_growth= max(gdpPercap)-min(gdpPercap))
gapminder %>%
group_by(country) %>%
select(country, year, gdpPercap) %>%
mutate(gdp_growth= max(gdpPercap)-min(gdpPercap))
gapminder %>%
group_by(country) %>%
select(country,gdpPercap) %>%
mutate(gdp_growth= max(gdpPercap)-min(gdpPercap))
gapminder %>%
group_by(country) %>%
mutate(gdp_growth= max(gdpPercap)-min(gdpPercap))
gapminder %>%
group_by(country) %>%
summarize(min_gdp=min(gdpPercap), max_gdp=min(gdpPercap)) %>%
mutate(gdp_growth= max(gdpPercap)-min(gdpPercap))
gapminder %>%
group_by(country) %>%
summarize(min_gdp=min(gdpPercap), max_gdp=min(gdpPercap)) %>%
mutate(gdp_growth= max(gdpPercap)-min(gdpPercap))
gapminder %>%
group_by(country) %>%
summarize(min_gdp=min(gdpPercap), max_gdp=min(gdpPercap)) %>%
mutate(gdp_growth= max_gdp-min_gdp)
gapminder %>%
group_by(country) %>%
summarize(min_gdp=min(gdpPercap), max_gdp=max(gdpPercap)) %>%
mutate(gdp_growth= max_gdp-min_gdp)
gapminder %>%
group_by(country) %>%
select(country, year, gdpPercap)
summarize(min_gdp=min(gdpPercap), max_gdp=max(gdpPercap)) %>%
mutate(gdp_growth= max_gdp-min_gdp)
gapminder %>%
group_by(country) %>%
summarize(min_gdp=min(gdpPercap), max_gdp=max(gdpPercap)) %>%
mutate(gdp_growth= max_gdp-min_gdp)
gapminder %>%
group_by(country)
gapminder %>%
group_by(country) %>%
summarize(min_gdp=min(gdpPercap), max_gdp=max(gdpPercap))
gapminder %>%
group_by(country, year) %>%
summarize(min_gdp=min(gdpPercap), max_gdp=max(gdpPercap)) %>%
mutate(gdp_growth= max_gdp-min_gdp)
gapminder %>%
group_by(country, year) %>%
summarize(min_gdp=min(gdpPercap), max_gdp=max(gdpPercap), .groups = "keep") %>%
mutate(gdp_growth= max_gdp-min_gdp)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
library(naniar)
library(gtools)
options(scipen = 999)
install.packages("gtools")
#install.packages("gapminder")
library("gapminder")
gapminder
gapminder %>%
group_by(country) %>%
ggplot(aes(x=gdpPercap, y=lifeExp))+
geom_col()+
scale_y_log10()
gapminder %>%
group_by(country) %>%
ggplot(aes(x=gdpPercap, y=lifeExp))+
geom_point()
gapminder %>%
group_by(country) %>%
ggplot(aes(x=gdpPercap, y=lifeExp))+
geom_point()+
labs(title = "Money vs. Life Expectancy",
x="GDP Per Capita",
y="Life Expectancy")+
theme(axis.text.x = element_text(angle = 60, hjust = 1))
gapminder %>%
group_by(country) %>%
ggplot(aes(x=gdpPercap, y=lifeExp))+
geom_point()+
coord_flip()+
labs(title = "Money vs. Life Expectancy",
x="GDP Per Capita",
y="Life Expectancy")+
theme(axis.text.x = element_text(angle = 60, hjust = 1))
gapminder %>%
group_by(country) %>%
ggplot(aes(x=gdpPercap, y=lifeExp))+
geom_point()+
labs(title = "Money vs. Life Expectancy",
x="GDP Per Capita",
y="Life Expectancy")+
theme(axis.text.x = element_text(angle = 60, hjust = 1))
gapminder %>%
group_by(country) %>%
ggplot(aes(x=gdpPercap, y=lifeExp))+
geom_point()+
coord_flip()+
labs(title = "Money vs. Life Expectancy",
x="GDP Per Capita",
y="Life Expectancy")+
theme(axis.text.x = element_text(angle = 60, hjust = 1))
gapminder %>%
group_by(country) %>%
summarize(min_gdp=min(gdpPercap), max_gdp=max(gdpPercap), .groups = "keep") %>%
mutate(gdp_growth= max_gdp-min_gdp)
gapminder %>%
group_by(country) %>%
summarize(min_gdp=min(gdpPercap), max_gdp=max(gdpPercap), .groups = "keep") %>%
mutate(gdp_growth= max_gdp-min_gdp) %>%
arrange(-gdp_growth)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
library(naniar)
library(gtools)
options(scipen = 999)
#install.packages("gapminder")
library("gapminder")
gapminder
gapminder %>%
group_by(country) %>%
summarize(min_gdp=min(gdpPercap), max_gdp=max(gdpPercap), .groups = "keep") %>%
mutate(gdp_growth= max_gdp-min_gdp) %>%
arrange(-gdp_growth)
gapminder %>%
filter(country=="Kuwait" | country=="Singapore", | country=="Norway", | country=="Hong Kong, China", | country=="Ireland")
gapminder %>%
filter(country=="Kuwait" | country=="Singapore" | country=="Norway" | country=="Hong Kong, China" | country=="Ireland")
gapminder %>%
filter(country=="Kuwait" | country=="Singapore" | country=="Norway" | country=="Hong Kong, China" | country=="Ireland") %>%
group_by(country)
life_history <- read_csv("data/mammal_lifehistories_v2.csv", na="-999") %>% clean_names()
life_history %>%
ggplot(aes(x=gestation, y=log10(mass), size = mass))+
geom_point()
elephants %>%
ggplot(aes(x=age, y= height))+
geom_point()+
geom_smooth(method=lm, se=F)+
labs(title="Elephant Age vs. Height",
x="Age",
y="Height")+
theme(plot.title = element_text(size=rel(1.5), hjust=0.5)) # title is 1.5 times larger than the title of x-axis
elephants <- read_csv("data/elephantsMF.csv") %>% clean_names()
elephants %>%
ggplot(aes(x=age, y= height))+
geom_point()+
geom_smooth(method=lm, se=F)+
labs(title="Elephant Age vs. Height",
x="Age",
y="Height")+
theme(plot.title = element_text(size=rel(1.5), hjust=0.5)) # title is 1.5 times larger than the title of x-axis
life_history %>%
filter(order !="Cetacea") %>%
ggplot(aes(x=order, y=mass), na.rm=T)+
geom_boxplot()+
coord_flip()+
scale_y_log10()
life_history %>%
ggplot(aes(x=gestation, y= wean_mass), na.rm=T)+
geom_point()+
coord_flip()+
scale_y_log10()
gapminder %>%
filter(country=="Kuwait" | country=="Singapore" | country=="Norway" | country=="Hong Kong, China" | country=="Ireland") %>%
group_by(country) %>%
ggplot(aes(x=year, y=gdpPercap, group = country))+
geom_line()
gapminder %>%
filter(country=="Kuwait" | country=="Singapore" | country=="Norway" | country=="Hong Kong, China" | country=="Ireland") %>%
group_by(country) %>%
ggplot(aes(x=year, y=gdpPercap, group = country, color = country))+
geom_line()
gapminder %>%
filter(country=="Kuwait" | country=="Singapore" | country=="Norway" | country=="Hong Kong, China" | country=="Ireland") %>%
group_by(country) %>%
ggplot(aes(x=year, y=gdpPercap, group = country, color = country))+
geom_line()+
labs(title = "Per Capita GDP growth vs. Year within Kuwait, Singapore, Norway, Hongkong, Ireland",
x="Year",
y="GDP Per Capita")
gapminder %>%
filter(country=="Kuwait" | country=="Singapore" | country=="Norway" | country=="Hong Kong, China" | country=="Ireland") %>%
group_by(country) %>%
ggplot(aes(x=year, y=gdpPercap, group = country, color = country))+
geom_line()+
labs(title = "Per Capita GDP growth vs. Year within Kuwait, Singapore, Norway, Hongkong, Ireland",
x="Year",
y="GDP Per Capita")+
theme(axis.text.x = element_text(angle = 60, hjust = 1))
deserts <- read_csv("data/surveys_complete.csv")
deserts %>%
filter(species_id=="DM"| species_id=="DS") %>%
mutate(year=as.factor(year)) %>%
group_by(year, species_id) %>%
summarize(n=n(), .groups = "keep") %>%
ggplot(aes(x=year, y=n, group = species_id, color=species_id))+ # if no group=species_id, no line!
geom_line()+
geom_point(shape=5)+ # without geom_points, remove the dots, only line is left
# shape 5 = diamond; shape 6= triangle
theme(axis.text.x = element_text(angle = 60, hjust = 1))
gapminder %>%
filter(country=="Kuwait" | country=="Singapore" | country=="Norway" | country=="Hong Kong, China" | country=="Ireland") %>%
group_by(country) %>%
ggplot(aes(x=year, y=gdpPercap, group = country, color = country))+
geom_line()+
geom_point(shape=5)+
labs(title = "Per Capita GDP growth vs. Year within Kuwait, Singapore, Norway, Hongkong, Ireland",
x="Year",
y="GDP Per Capita")+
theme(axis.text.x = element_text(angle = 60, hjust = 1))
gapminder %>%
group_by(continent, year) %>%
summarize(ave_lifex=mean(lifeExp), .groups = "keep") %>%
ggplot(aes(x=year, y=ave_lifex, group = continent, color= continent))+
geom_line()+
geom_point(shape=3)+
labs(title = "Life Expectancy Over Time in Each Continent",
x="Year",
y="Mean Life Expectancy")+
theme(axis.text.x = element_text(angle = 60, hjust = 1))
gapminder %>%
group_by(continent, year) %>%
summarize(ave_lifex=mean(lifeExp), .groups = "keep") %>%
ggplot(aes(x=year, y=ave_lifex, group = continent, color= continent))+
geom_line()+
geom_point(shape=7)+
labs(title = "Life Expectancy Over Time in Each Continent",
x="Year",
y="Mean Life Expectancy")+
theme(axis.text.x = element_text(angle = 60, hjust = 1))
gapminder %>%
group_by(country) %>%
ggplot(aes(x=gdpPercap, y=lifeExp))+
geom_point()+
geom_smooth(method=lm, se=F)+
coord_flip()+
labs(title = "Money vs. Life Expectancy",
x="GDP Per Capita",
y="Life Expectancy")+
theme(axis.text.x = element_text(angle = 60, hjust = 1))
gapminder %>%
filter(country=="China") %>%
select(country, year, pop) %>%
ggplot(aes(x=year, y=pop))+
geom_point()+
labs(title = "Population Change Over Tiime in China Between 1952 and 2007",
x= "Year",
y="Population")+
theme(axis.text.x = element_text(angle = 60, hjust = 1))
gapminder %>%
filter(country=="China") %>%
select(country, year, pop) %>%
ggplot(aes(x=year, y=pop))+
geom_line()+
labs(title = "Population Change Over Tiime in China Between 1952 and 2007",
x= "Year",
y="Population")+
theme(axis.text.x = element_text(angle = 60, hjust = 1))
gapminder %>%
filter(country=="China") %>%
select(country, year, pop) %>%
ggplot(aes(x=year, y=pop))+
geom_line()+
geom_point(shape=8)+
labs(title = "Population Change Over Tiime in China Between 1952 and 2007",
x= "Year",
y="Population")+
theme(axis.text.x = element_text(angle = 60, hjust = 1))
gapminder %>%
filter(country=="China") %>%
select(country, year, pop) %>%
ggplot(aes(x=year, y=pop))+
geom_line()+
geom_point(shape=9)+
labs(title = "Population Change Over Tiime in China Between 1952 and 2007",
x= "Year",
y="Population")+
theme(axis.text.x = element_text(angle = 60, hjust = 1))
gapminder %>%
filter(country=="China") %>%
ggplot(aes(x=year, y=pop))+
geom_line()+
geom_point(shape=9)+
labs(title = "Population Change Over Tiime in China Between 1952 and 2007",
x= "Year",
y="Population")+
theme(axis.text.x = element_text(angle = 60, hjust = 1))
gapminder %>%
filter(continent=="Asia")
gapminder %>%
filter(continent=="Asia") %>%
group_by(country)
gapminder %>%
filter(continent=="Asia") %>%
group_by(country) %>%
ggplot(aes(x=year, y=pop))+
geom_line()
gapminder %>%
filter(continent=="Asia") %>%
group_by(country) %>%
ggplot(aes(x=year, y=pop, group = country))+
geom_line()
gapminder %>%
filter(continent=="Asia") %>%
group_by(country) %>%
ggplot(aes(x=year, y=pop, group = country, color = country))+
geom_line()
gapminder %>%
filter(continent=="America") %>%
group_by(country) %>%
ggplot(aes(x=year, y=pop, group = country, color = country))+
geom_line()
gapminder %>%
filter(continent=="Americas") %>%
group_by(country) %>%
ggplot(aes(x=year, y=pop, group = country, color = country))+
geom_line()
gapminder %>%
filter(continent=="Americas") %>%
group_by(country) %>%
ggplot(aes(x=year, y=pop, group = country, color = country))+
geom_line()+
scale_y_log10()
gapminder %>%
filter(continent=="Asia") %>%
group_by(country) %>%
ggplot(aes(x=year, y=pop, group = country, color = country))+
geom_line()+
scale_y_log10()+
labs(title = "Year vs. Population in the Asia continent")
gapminder %>%
filter(continent=="Asia") %>%
group_by(country) %>%
ggplot(aes(x=year, y=pop, group = country, color = country))+
geom_line()+
scale_y_log10()+
labs(title = "Year vs. Population in the Asia continent",
x="Year",
y="Population")+
geom_point(shape=9)
gapminder %>%
filter(continent=="Asia") %>%
group_by(country) %>%
summarize(min_pop=min(pop), max_pop=max(pop), ave_pop=mean(pop))
gapminder %>%
filter(continent=="Asia") %>%
group_by(country) %>%
summarize(min_pop=min(pop), max_pop=max(pop), ave_pop=mean(pop)) %>%
mutate(pop_growth=max_pop-min_pop)
gapminder %>%
filter(continent=="Asia") %>%
group_by(country) %>%
summarize(min_pop=min(pop), max_pop=max(pop), ave_pop=mean(pop)) %>%
mutate(pop_growth=max_pop-min_pop) %>%
arrange(-pop_growth)
gapminder %>%
summarize(dis_con=n_distinct(country)) %>%
library(tidyverse)
library(janitor)
library(naniar)
library(gtools)
gapminder %>%
summarize(across(everything(), ~ sum(is.na(.))))
summary(gapminder)
gapminder %>%
summarize(dis_con=n_distinct(country)) %>%
class(gapminder)
gapminder %>%
summarize(dis_con=n_distinct(country)) %>%
gapminder %>%
summarize(dis_con=n_distinct(country))
